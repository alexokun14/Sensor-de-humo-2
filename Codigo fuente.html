<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Código Fuente</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background: url('data:image/jpeg;base64,...') no-repeat center center fixed;
            background-size: cover;
            color: white;
            text-align: center;
        }
        .container {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background: rgba(0, 0, 0, 0.7); /* Fondo semitransparente */
            padding: 20px;
        }
        h1 {
            font-size: 3em;
            margin: 0;
            text-align: center;
        }
        nav ul {
            list-style-type: none;
            padding: 0;
            margin: 20px 0;
        }
        nav ul li {
            display: inline-block;
            margin: 0 10px;
        }
        nav ul li a {
            text-decoration: none;
            color: white;
            padding: 15px 30px;
            border: 2px solid #4CAF50;
            border-radius: 50px;
            transition: background 0.3s, color 0.3s;
            background: linear-gradient(135deg, #6B8E23, #4CAF50);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            font-size: 1.1em;
        }
        nav ul li a:hover {
            background: #4CAF50;
            color: white;
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
        }
        /* Estilos para los bloques de código */
        .code-container {
            width: 80%;
            background-color: #333;
            color: #eee;
            padding: 20px;
            margin: 20px auto;
            border-radius: 8px;
            text-align: left;
            font-family: monospace;
        }
        code {
            white-space: pre-wrap;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Código Fuente</h1>
        <nav>
            <ul>
                <li><a href="Programación.html">Programación</a></li>
                <li><a href="Integracion wifi.html">Integración WiFi</a></li>
            </ul>
        </nav>

        <div class="code-container">
            <h2>Código 1: Programación del Sensor</h2>
            <pre><code>
#include <VirtualWire.h>

const int sensorHumoPin = A0; // Pin analógico donde conectas el sensor de humo
const int ledPin = 8;         // Pin donde conectas el LED
int umbralHumo = 150;         // Umbral para detección de humo (ajústalo según el sensor)

void setup() {
  pinMode(sensorHumoPin, INPUT); // Pin del sensor de humo
  pinMode(ledPin, OUTPUT);       // Pin del LED

  vw_set_tx_pin(12); // Pin de transmisión RF
  vw_setup(2000);    // Velocidad de transmisión
}

void loop() {
  int valorHumo = analogRead(sensorHumoPin); // Leer el valor del sensor de humo

  if (valorHumo > umbralHumo) { // Si el humo excede el umbral
    digitalWrite(ledPin, HIGH); // Encender el LED
    const char *mensaje = "Humo detectado";  // Mensaje a enviar
    vw_send((uint8_t *)mensaje, strlen(mensaje)); // Enviar mensaje
    vw_wait_tx(); // Esperar a que el mensaje sea enviado
  } else {
    digitalWrite(ledPin, LOW); // Apagar el LED si no se detecta humo
  }

  delay(1000); // Esperar 1 segundo antes de volver a medir
}
 {
    Serial.begin(9600);
    pinMode(LED_BUILTIN, OUTPUT);
}
void loop() {
    int smokeLevel = analogRead(A0);
    if(smokeLevel > threshold) {
        digitalWrite(LED_BUILTIN, HIGH);
    } else {
        digitalWrite(LED_BUILTIN, LOW);
    }
}
            </code></pre>
        </div>

        <div class="code-container">
            <h2>Código 2: Integración WiFi</h2>
            <pre><code>
#include <VirtualWire.h>

const int ledPin = 8;  // Pin donde conectas el LED en el receptor

void setup() {
  pinMode(ledPin, OUTPUT);  // Configurar el pin del LED como salida
  Serial.begin(9600);       // Iniciar el monitor serie
  vw_set_rx_pin(11);        // Pin de recepción RF
  vw_setup(2000);           // Velocidad de transmisión
  vw_rx_start();            // Iniciar el receptor
}

void loop() {
  uint8_t buf[VW_MAX_MESSAGE_LEN];
  uint8_t buflen = VW_MAX_MESSAGE_LEN;

  if (vw_get_message(buf, &buflen)) {  // Si recibe un mensaje
    Serial.print("Mensaje recibido: ");
    for (int i = 0; i < buflen; i++) {
      Serial.print((char)buf[i]);  // Mostrar el mensaje en el monitor serie
    }
    Serial.println();

    // Si el mensaje es "Humo detectado", encender el LED
    if (strncmp((char *)buf, "Humo detectado", buflen) == 0) {
      digitalWrite(ledPin, HIGH);  // Encender el LED
    }
  } else {
    digitalWrite(ledPin, LOW);  // Apagar el LED si no se recibe señal
  }

  delay(100);  // Pequeña pausa para evitar saturación
}

void setup() {
    Serial.begin(9600);
    WiFi.begin(ssid, password);
    while (WiFi.status() != WL_CONNECTED) {
        delay(1000);
        Serial.println("Conectando...");
    }
    Serial.println("Conectado a WiFi");
}
void loop() {
    // Lógica de integración
}
            </code></pre>
        </div>
    </div>
</body>
</html>

